% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute.R
\name{compute_contrast_observations}
\alias{compute_contrast_observations}
\title{Compute contrast observations for prediction plots}
\usage{
compute_contrast_observations(
  data,
  conc_col,
  dv_col,
  id_col = NULL,
  ntime_col = NULL,
  trt_col = NULL,
  treatment_predictors,
  control_predictors = NULL,
  contrast_method = c("matched", "group")
)
}
\arguments{
\item{data}{A data frame containing C-QT analysis dataset}

\item{conc_col}{An unquoted column name for drug concentration measurements}

\item{dv_col}{An unquoted column name for dQTC measurements}

\item{id_col}{An unquoted column name for subject ID, used when control predictors is provided to compute delta delta dv}

\item{ntime_col}{An unquoted column name for Nominal time data, used when control predictors is provided to compute delta delta dv}

\item{trt_col}{An unquoted column name for Treatment group data, used when control predictors is provided to compute delta delta dv}

\item{treatment_predictors}{A list for predictions with model. Should contain a value for each predictor in the model.}

\item{control_predictors}{An optional list for contrast predictions}

\item{contrast_method}{A string specifying contrast method: "matched" for individual ID+time matching (crossover studies), "group" for group-wise subtraction (parallel studies)}
}
\value{
a tibble with columns: group, conc, dv
}
\description{
Compute contrast observations for prediction plots
}
\examples{
data_proc <- preprocess(cqtkit_data_verapamil)

# Simple case: no control group
obs_data <- compute_contrast_observations(
  data_proc,
  CONC,
  deltaQTCF,
  treatment_predictors = list(TRTG = "Verapamil HCL")
)
obs_data

# Matched contrast (crossover study)
contrast_data <- compute_contrast_observations(
  data_proc,
  CONC,
  deltaQTCF,
  ID,
  NTLD,
  TRTG,
  treatment_predictors = list(TRTG = "Verapamil HCL"),
  control_predictors = list(TRTG = "Placebo"),
  contrast_method = "matched"
)
contrast_data
}
